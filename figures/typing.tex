\begin{figure*}[!tp]
\centering
\small

\begin{flushleft}
\fbox{$\sgg \vdash e : t$}
\end{flushleft}

\vspace{-2ex}

\begin{mathpar}
  \inferrule[\defrule{var-assum}]
    {\WF{\sgg} \and (x:t) \in \Gamma}
    {\sgg \vdash x:t}

  \inferrule[\defrule{var-def}]
    {\WF{\sgg} \and
      \Gamma \equiv \Gamma_1 (x:t \coloneqq e) \Gamma_2 \\\\
      \SV(e, t) \setminus \SV(\Gamma_1) = \vec{\upsilon_i} \and
      \Gamma_G, \Gamma_1 \vdash e \overline{[\upsilon_i \coloneqq s_i]} : t \overline{[\upsilon_i \coloneqq s_i]}}
    {\sgg \vdash x^{\seq{s_i}} : t \overline{[\upsilon_i \coloneqq s_i]}}

  \inferrule[\defrule{const-assum}]
    {\WF{\sgg} \and (\Assm{x}{t}) \in \Gamma_G}
    {\sgg \vdash x:t}

  \inferrule[\defrule{const-def}]
    {\WF{\sgg} \and
      (\Defn{x}{t}{e}) \in \Gamma_G \\\\
      \SV(e, t) = \vec{\upsilon_i} \and
      \Gamma_G, \mt \vdash e \overline{[\upsilon_i \coloneqq s_i]} : t \overline{[\upsilon_i \coloneqq s_i]}}
    {\sgg \vdash x^{\seq{s_i}} : t \overline{[\upsilon_i \coloneqq s_i]}}

  \inferrule[\defrule{univ}]
    {\WF{\sgg} \and (U_1, U_2) \in \Axioms}
    {\sgg \vdash U_1 : U_2}

  \inferrule[\defrule{conv}]
    {\sgg \vdash e:t \and \sgg \vdash u:U \and \sgg \vdash t \leq u}
    {\sgg \vdash e:u}

  \inferrule[\defrule{pi}]
    {(U_1, U_2, U_3) \in \Rules \\\\
      \sgg \vdash t : U_1 \and
      \sgg (x:t) \vdash u : U_2}
    {\sgg \vdash \prod{x}{t}{u} : U_3}

  \inferrule[\defrule{lam}]
    {\sgg \vdash t : U \and \sgg (x:t) \vdash e:u}
    {\sgg \vdash \abs{x}{\erase{t}}{e} : \prod{x}{t}{u}}

  \inferrule[\defrule{app}]
    {\sgg \vdash e_1 : \prod{x}{t}{u} \and \sgg \vdash e_2 : t}
    {\sgg \vdash \app{e_1}{e_2} : u[x \coloneqq e_2]}

  \inferrule[\defrule{let}]
    {\sgg \vdash e_1:t \and \sgg (x:t \coloneqq e_1) \vdash e_2:u}
    {\sgg \vdash \letin{x}{\erase{t}}{e_1}{e_2} : u[x \coloneqq e_1]}
  \\
  \inferrule[\defrule{ind}]
    {\WF{\sgg}}
    {\sgg \vdash I^s : \indtype{I}}

  \inferrule[\defrule{constr}]
    {\WF{\sgg}}
    {\sgg \vdash c : \constrtype{c}{s}}

  \inferrule[\defrule{case}]
    {\sgg \vdash e : \app{I_k^{\hat{s}}}{\overline{p}}{\overline{a}} \and
      \indtype{I_k} = \prodctx{\any}{\prodctx{\any}{U_k}} \\
      (U_k, U, I_k) \in \Elims \and
      \sgg \vdash P : \motivetype{\overline{p}}{U}{I_k^{\hat{s}}} \\
      \text{For each $j$:} \and
      \sgg \vdash e_j : \branchtype{\overline{p}}{c_j}{s}{P}}
    {\sgg \vdash \caseof{\erase{P}}{e}{c_j}{e_j} : \app{P}{\overline{a}}{e}}

  \inferrule[\defrule{fix}]
    {\text{For each $k$:} \and
      \sgg \vdash t_k \approx \prodctx{\Delta_{k}}{\prod{x_k}{\app{I_k^{\upsilon_k}}{\overline{a}_k}}{u_k}} \and
      \norm{\Delta_{k}} = n_k - 1 \and
      \upsilon_k \pos u_k \\
      \upsilon_k \notin \SV{\Gamma, \overline{a}_k, e_k} \and
      \sgg \vdash t_k : U_k \and
      \sgg \overline{(f_k : t_k)} \vdash e_k : t_k[\upsilon_k \coloneqq \hat{\upsilon}_k]}
    {\sgg \vdash \fix{\seq{n_k}, m}{f_k}{\erase{t_k}^{\upsilon_k}}{e_k} : t_m[\upsilon_m \coloneqq s]}

  \inferrule[\defrule{cofix}]
    {\text{For each $k$:} \and
      \sgg \vdash t_k \approx \prodctx{\Delta_k}{\app{I_k^{\upsilon_k}}{\overline{a}_k}} \and
      \upsilon_k \neg \Delta_k \\
      \upsilon_k \notin \SV{\Gamma, \overline{a}_k, e_k} \and
      \sgg \vdash t_k : U_k \and
      \sgg \overline{(f_k : t_k)} \vdash e_k : t_k[\upsilon_k \coloneqq \hat{\upsilon}_k]}
    {\sgg \vdash \cofix{m}{f_k}{\erase{t_k}^{\upsilon_k}}{e_k} : t_m[\upsilon_m \coloneqq s]}
\end{mathpar}

\caption{Typing rules}
\label{fig:typing}
\end{figure*}

%%% Local Variables:
%%% TeX-master: "../main.tex"
%%% TeX-engine: default
%%% End:
