\begin{figure}
\centering

\begin{minted}[escapeinside=<>,mathescape=true]{ocaml}
let rec RecCheckLoop <$C_2$> <$\Psi$> <$\overline{\tau_k}$> <$\overline{t_k}$> <$\overline{e_k}$> =
  try let <$C_3$> = <$\{\}$> in
      let for i = 1 to k do
          let pv<$_i$> = <$\textsf{PV}$> <${t_i}$> in
          let sv<$_i$> = (<$\textsf{SV}$> <$\Psi$> <$\cup$> <$\textsf{SV}$> <$t_i$> <$\cup$> <$\textsf{SV}$> <$e_i$>) <$\setminus$> pv<$_i$> in
          <$C_3$> := <$C_3$> <$\cup$> RecCheck <$C_2$> <$\tau_i$> pv<$_i$> sv<$_i$>
      done in <$C_3$>
  with RecCheckFail <$V$> ->
      if (empty? <$V$>)
      then raise RecCheckLoopFail
      else <$\mathcal{V}^*$> := <$\mathcal{V}^* \setminus V$>; RecCheckLoop <$C_2$> <$\overline{\tau_k}$> <$\overline{t_k}$> <$\overline{e_k}$>
\end{minted}

\caption{Pseudocode implementation of \textsc{RecCheckLoop}}
\label{fig:helpers}
\end{figure}
